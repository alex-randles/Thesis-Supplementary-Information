@prefix ex: <http://example.org/> .
@prefix mo: <http://purl.org/ontology/mo/> .
@prefix mqio: <https://w3id.org/MQIO#> .
@prefix mqio-metrics: <https://w3id.org/MQIO-metrics/#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# Quality assessment of the mapping
<#MappingAssessment>

	rr:logicalTable [
		  rr:tablename "QUALITY_INFO";
	];

	rr:subjectMap [
		rr:template "http://www.example.com/mappingQualityAssessment";
		rr:class mqio:MappingAssessment;
	];

	rr:predicateObjectMap [
		rr:predicate mqio:assessedMapping ;
		rr:objectMap  [
		    rr:column "MAPPING_ASSESSED";
		    rr:termType rr:IRI;
  	    ];
   ];

	rr:predicateObjectMap [
		rr:predicate mqio:hasValidationReport ;
		rr:objectMap  [
			  rr:template "http://www.example.com/mappingQualityAssessment";
  	          rr:termType rr:IRI;
	   ];
   ];
.

# Quality report generated by assessment
<#MappingValidationReport>

	rr:logicalTable [
		  rr:tablename "QUALITY_INFO";
	];

	rr:subjectMap [
		rr:template "http://www.example.com/violation-{ID}";
		rr:class mqio:MappingValidationReport;
	];

	rr:predicateObjectMap [
		rr:predicate mqio:hasViolation ;
		rr:objectMap  [
		   rr:template "http://www.example.com/violation-{ID}";
		   rr:termType rr:IRI;
  	    ];
   ];
.

# The mapping artefact itself
<#Mapping>

	rr:logicalTable [
		  rr:tablename "QUALITY_INFO";
	];

	rr:subjectMap [
		rr:template "{MAPPING_IDENTIFIER}";
		rr:class mqio:MappingArtefact;
	];

	rr:predicateObjectMap [
		rr:predicate mqio:hasViolation ;
		rr:objectMap  [
		   rr:template "http://www.example.com/violation-{ID}";
		   rr:termType rr:IRI;
  	    ];
   ];
.

# Quality violations detected in the mapping
<#MappingViolation>

	rr:logicalTable [
		  rr:tablename "QUALITY_INFO";
	];

	rr:subjectMap [
		rr:template "http://www.example.com/violation-{ID}";
		rr:class mqio:MappingViolation;
	];

	rr:predicateObjectMap [
		rr:predicate mqio:hasLocation ;
		rr:objectMap  [
		    rr:column "VIOLAITON_LOCATION";
		    rr:datatype xsd:string;
  	    ];
   ];

	rr:predicateObjectMap [
		rr:predicate mqio:hasObjectValue ;
		rr:objectMap  [
		    rr:column "VIOLATION_VALUE";
		    rr:termType rr:IRI;
  	    ];
   ];

	rr:predicateObjectMap [
		rr:predicate mqio:hasResultMessage ;
		rr:objectMap  [
		    rr:column "VIOLATION_MESSAGE";
		    rr:datatype xsd:string;
  	    ];
   ];

	rr:predicateObjectMap [
		rr:predicate mqio:inTripleMap ;
		rr:objectMap  [
		    rr:column "VIOLATION_TRIPLE_MAP";
		    rr:termType rr:IRI;
  	    ];
   ];


	rr:predicateObjectMap [
		rr:predicate mqio:wasRefinedBy ;
		rr:objectMap  [
				rr:parentTriplesMap <#MappingRefinements> ;
			    rr:joinCondition [
						rr:child "ID";
						rr:parent "ID";
				];
        ];
   ];

.