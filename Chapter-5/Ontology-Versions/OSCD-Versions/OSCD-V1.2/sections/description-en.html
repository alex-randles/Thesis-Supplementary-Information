<h2 id="desc" class="list">Ontology for Source Change Detection (OSCD): Description <span class="backlink"> back to <a href="#toc">ToC</a></span></h2>

<strong>Ontology Competency questions </strong> have been defined & answered through SPARQL queries: <a target="_blank" href="https://drive.google.com/file/d/1rd-xMDkMcPfPry28vmG4MsKuvnXjb6xn/view?usp=share_link"> Competency Questions </a>


 <ul>
  <li>The queries have been exexucted on the sample graph: <a target="_blank" href="https://raw.githubusercontent.com/alex-randles/OSCD/main/sample_graph.ttl"> Sample Graph </a></li>
  <li>The graph was generated by detecting the difference between two source data files in JSON format (<a target="_blank" href="https://raw.githubusercontent.com/kg-construct/rml-test-cases/master/test-cases/RMLTC0001a-JSON/student.json">V1</a>, <a target="_blank" href="https://raw.githubusercontent.com/kg-construct/rml-test-cases/master/test-cases/RMLTC0002a-JSON/student.json">V2</a>) which have been retrieved from the <a target="_blank" href="https://rml.io/test-cases/">RML test case files</a>. </li>
</ul> 

The SPARQL query shown below can be used to relate source data changes to respective mappings:
<br>
<pre><code>PREFIX oscd: &lt;https://w3id.org/OSCD#&gt;
PREFIX rml: &lt;http://semweb.mmlab.be/ns/rml#&gt;
PREFIX rr: &lt;http://www.w3.org/ns/r2rml#&gt;

SELECT ?tripleMap ?source ?change ?reference ?changedData
WHERE {
  GRAPH ?changesGraph {    			 
	?changeLog a oscd:ChangeLog;
           	oscd:hasChange ?change;
   			oscd:hasCurrentVersion ?currentVersion .
	?change oscd:hasDataReference ?reference;
        	oscd:hasChangedData ?changedData .
	BIND (REPLACE(STR(?currentVersion), "^.*/([^/]*)$", "$1") as ?source)
  }
  GRAPH ?mappingGraph {    			 
	?tripleMap rml:logicalSource|rr:logicalTable ?logicalSource;
           	rr:predicateObjectMap ?pom .
	?logicalSource rml:source|rr:tableName ?source .
	?pom rr:objectMap ?objectMap .
	?objectMap rml:reference|rr:column ?reference.
  }
}</code>
</pre>

