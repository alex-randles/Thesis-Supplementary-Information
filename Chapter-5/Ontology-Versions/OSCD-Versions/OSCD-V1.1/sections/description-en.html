<h2 id="desc" class="list">Change Detection Ontology (CDO): Description <span class="backlink"> back to <a href="#toc">ToC</a></span></h2>

<strong>Ontology Competency questions </strong> have been defined & answered through SPARQL queries: <a target="_blank" href="https://drive.google.com/file/d/1reDUQ_A5b6H2xFdz-G1ztKvFvuzx1qR5/view?usp=share_link"> Competency Questions </a>
<br>
<br>
The queries have been exexucted on the sample graph: <a target="_blank" href="https://raw.githubusercontent.com/alex-randles/Test-Github-Pages/main/sample_graph.ttl"> Sample Graph </a>
<br>
<br>
The graph was generated by detecting the difference between two source data files in JSON format (<a target="_blank" href="https://raw.githubusercontent.com/kg-construct/rml-test-cases/master/test-cases/RMLTC0001a-JSON/student.json">V1</a>, <a target="_blank" href="https://raw.githubusercontent.com/kg-construct/rml-test-cases/master/test-cases/RMLTC0002a-JSON/student.json">V2</a>) which have been retrieved from the <a target="_blank" href="https://rml.io/test-cases/">RML test case files</a>. 
<br>
<br>
The SPARQL query shown below can be used to relate source data changes to corresponding mappings:
<br>
<pre><code>PREFIX cdo: &lt;https://w3id.org/CDO#&gt;
PREFIX rml: &lt;http://semweb.mmlab.be/ns/rml#&gt;
PREFIX rr: &lt;http://www.w3.org/ns/r2rml#&gt;

SELECT ?tripleMap ?source ?change ?reference ?changedData
WHERE {
  GRAPH ?changesGraph { 				
    ?changeLog a cdo:ChangeLog;
               cdo:hasChange ?change;
			   cdo:hasCurrentVersion ?currentVersion .
    ?change cdo:hasDataReference ?reference;
            cdo:hasChangedData ?changedData . 
    BIND (REPLACE(STR(?currentVersion), "^.*/([^/]*)$", "$1") as ?source)
  } 
  GRAPH ?mappingGraph { 				
    ?tripleMap rml:logicalSource|rr:logicalTable ?logicalSource;
               rr:predicateObjectMap ?pom .
    ?logicalSource rml:source|rr:tableName ?source .
    ?pom rr:objectMap ?objectMap .
    ?objectMap rml:reference|rr:column ?reference.
  } 
} </code>
</pre>
